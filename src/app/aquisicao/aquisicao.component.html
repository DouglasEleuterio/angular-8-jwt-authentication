<!-- Content Header (Page header) -->
<section class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1>Aquisição de Combo</h1>
      </div>
      <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
          <li class="breadcrumb-item"><a href="#">Home</a></li>
          <li class="breadcrumb-item active">Aquisição</li>
        </ol>
      </div>
    </div>
  </div><!-- /.container-fluid -->
</section>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <section class="content">
    <div class="container-fluid">
      <div class="row">
        <!-- left column -->
        <div class="col-md-12">
          <!-- general form elements -->
          <div class="card card-primary">
            <div class="card-header">
              <h3 class="card-title">Aquisição de Combo</h3>
            </div>
            <!-- /.card-header -->
            <!-- form start -->
            <div class="card-body">
              <div class="form-group">
                <div class="row">
                  <div class="col-sm-12 col-md-4">
                    <label>Transportador</label>
                    <select id="transportadorA"
                            formControlName="transportador"
                            class="form-control select2"
                            style="width: 100%;"
                            (change)="vinculaTransportador()">
                      <option [defaultSelected]="" [ngValue]="" disabled></option>
                      <option *ngFor="let transp of transportadores" [ngValue]="transp"> Razão
                        Social: {{transp.razaoSocial}} |
                        CNPJ: {{transp.cnpj}}</option>
                    </select>
                  </div>
                  <div class="col-sm-12 col-md-4">
                    <label>Tipo Descarte</label>
                    <select id="descarteA"
                            formControlName="tipoDescarte"
                            (change)="calculaValorPago()"
                            class="form-control select2"
                            style="width: 100%;">
                      <option></option>
                      <option *ngFor="let descarte of descartes"
                              [ngValue]="descarte">
                              {{descarte.nome}}
                      </option>
                    </select>
                  </div>
                  <div class="col-sm-12 col-md-4">
                    <label>Quantidade</label>
                    <input
                      type="number"
                      formControlName="quantidadeAdquirida"
                      (change)="calculaValorPago()"
                      class="form-control"
                      name="quantidade"
                      required
                      id="quantidadeA"
                      placeholder="Quantidade">
                  </div>
                </div>
                <!--  Gerador - Destinatario -->
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-sm-12 col-md-3">
                    <label>Data Pagamento</label>
                    <input
                      formControlName="dataPagamento"
                      type="date"
                      class="form-control"
                      name="dataPagamento"
                      required
                      id="dataPagamentoA">
                  </div>
                  <div class="col-sm-12 col-md-3">
                    <label for="valorA">Valor Pago</label>
                    <input
                      formControlName="valorPago"
                      currencyMask
                      [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }"
                      (change)="atualizaDesconto()"
                      (keyup)="atualizaDesconto()"
                      type="text"
                      class="form-control"
                      name="valor"
                      required
                      id="valorA"
                      placeholder="R$ ">
                  </div>
                  <div class="col-sm-12 col-md-3">
                    <label>Forma Pagamento</label>
                    <select id="formaPagamentoA"
                            class="form-control select2"
                            style="width: 100%;"
                            formControlName="formaPagamento">
                      <option *ngFor="let formaPagamento of formasPagamento"
                              [ngValue]="formaPagamento">
                              {{formaPagamento.nome}}
                      </option>
                    </select>
                  </div>
                  <div class="col-sm-12 col-md-3">
                    <label>Instituição Bancária</label>
                    <select id="formaPagamento2A"
                            formControlName="instituicaoBancaria"
                            class="form-control select2"
                            style="width: 100%;">
                      <option *ngFor="let iBancaria of instituicaoBancaria"
                              [ngValue]="iBancaria">
                              {{iBancaria.nome}}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <!-- /.card-body -->
            <div class="card-footer">
              <button type="button" (click)="onSubmit()" class="btn btn-success fa-pull-right">Salvar CTR</button>
              <button style="margin-right: 10px;" (click)="limpar()" type="button" class="btn btn-warning float-left">
                Limpar
              </button>
            </div>
          </div>
          <!-- /.card -->
        </div>
        <!--/.col (left) -->
      </div>
      <!-- /.row -->
    </div><!-- /.container-fluid -->
  </section>
</form>
